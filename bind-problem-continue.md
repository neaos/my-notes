# **监听端口问题续——根本原因**

上一篇文章中用简单粗暴的方式解决了端口占用的问题，但是其实并没有找到问题的根本原因，并且使用的解决方法也具有明显的缺陷。

要找到根本原因，就需要从监听端口的本质TCP/IP协议入手。

简单来说Socket请求的目的地由IP地址和TCP端口两部分组成。TCP报文中只包含端口号，IP包中只包含IP地址。

所以如果程序监听端口时，如果端口相同，但是IP不同，则操作系统不会抛出端口被占用的异常。

重复上一篇文章中的例子，执行 netstat -an \| grep 8989 查看8989端口的TCP/IP信息，如下



